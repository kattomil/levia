"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var urljoin = require("url-join");
var axios_1 = require("axios");
var mobileApis_1 = require("../mobileApis");
/**
 * ### Profile of logged in user
 * @param auth Auth OBJ.
 * @param fields array [anime_statistics,is_supporter]
 */
function default_1(auth, fields) {
    if (fields === void 0) { fields = ["anime_statistics"]; }
    var user = "@me"; // Other users don't work with profile endpoint
    var request = {
        method: "get",
        url: urljoin(mobileApis_1.baseURL, "users", user, "?fields=" + fields.join(",")),
        headers: { Authorization: "Bearer " + auth["access_token"] }
    };
    return new Promise(function (res, rej) {
        axios_1.default(request)
            .then(function (r) { return res(r.data); })
            .catch(function (err) { return rej(err); });
    });
}
exports.default = default_1;

//# sourceMappingURL=profile.js.map
