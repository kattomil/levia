{"version":3,"sources":["../src/methods/poly/loginRequired/notifications.ts"],"names":[],"mappings":";;AACA,+BAAkD;AAElD,IAAM,EAAE,GAAG,UAAA,GAAG;IACZ,OAAA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;SACb,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,kBAAkB,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,kBAAkB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAA5D,CAA4D,CAAC;SACxE,IAAI,CAAC,GAAG,CAAC;AAFZ,CAEY,CAAC;AAEf,mBAAwB,GAAc;IACpC,IAAI,OAAO,GAAuB;QAChC,MAAM,EAAE,MAAM;QACd,GAAG,EAAE,6DAA6D;QAClE,OAAO,EAAE;YACP,eAAe,EAAE,UAAU;YAC3B,cAAc,EAAE,mCAAmC;YACnD,MAAM,EAAE,kBAAgB,GAAG,CAAC,YAAY,sBAAmB;SAC5D;QACD,IAAI,EAAE,EAAE,CAAC,EAAE,UAAU,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC;KACzC,CAAC;IAEF,OAAO,IAAI,OAAO,CAAC,UAAC,GAAG,EAAE,GAAG;QAC1B,eAAK,CAAC,OAAO,CAAC;aACX,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,EAAX,CAAW,CAAC;aACtB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,2BAA2B,GAAG,GAAG,CAAC,EAAtC,CAAsC,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;AACL,CAAC;AAjBD,4BAiBC","file":"notifications.js","sourcesContent":["import { LoginData } from \"../noApiLogin\";\nimport axios, { AxiosRequestConfig } from \"axios\";\n\nconst qs = obj =>\n  Object.keys(obj)\n    .map(key => encodeURIComponent(key) + \"=\" + encodeURIComponent(obj[key]))\n    .join(\"&\");\n\nexport default function(log: LoginData) {\n  var options: AxiosRequestConfig = {\n    method: \"post\",\n    url: \"https://myanimelist.net/notification/api/request-items.json\",\n    headers: {\n      \"Cache-Control\": \"no-cache\",\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      cookie: `MALSESSIONID=${log.MALSESSIONID}; is_logged_in=1;`\n    },\n    data: qs({ csrf_token: log.csrf_token })\n  };\n\n  return new Promise((res, rej) => {\n    axios(options)\n      .then(r => res(r.data))\n      .catch(err => rej(\"Notyfications Not Found: \" + err));\n  });\n}\n"],"sourceRoot":"../../../../src"}